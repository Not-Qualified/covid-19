<div id="visualization"> </div>
<!-- <canvas id="totalChart" height="300"></canvas>
<hr />
<canvas id="deltaChart" height="300"></canvas> -->

<!-- Google Chart JS -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript">

	// Google Geo Chart Settings
  var myMapsApiKey = 'AIzaSyAQL_kzwdu5uBEzeOIymbwLKLy6TQLsLas';
	google.load('visualization', '1',
		{'packages': ['geochart'],
		"mapsApiKey": myMapsApiKey});
	google.setOnLoadCallback(drawVisualization);

var dataArray = [['State','Confirmed', 'Deceased']];
        
  // for (var n =0; n < models.length; n++)
  // { 
    {% for state, data in state_list.items %}
      {% if not "Total_Testing" == state %}
      dataArray.push(["{{state}}",
        {{ data.total.confirmed }},
        {{ data.total.deceased }}
        ]);
      {% endif %}
    {% endfor %}
  // }



// var abc = [];
// {% for state, data in state_list.items %}
//     abc.push(["{{state}}", 23, 45]);
// {% endfor %}
// console.log(abc);
function drawVisualization() {
  var data = google.visualization.arrayToDataTable(dataArray);
  
  
  var opts = {
    region: 'IN',
    displayMode: 'regions',
    resolution: 'provinces',
    // width: 640, 
    // height: 480
    colorAxis: {colors: ["white", '#e31b23']},
          // backgroundColor: '#81d4fa',
          // datalessRegionColor: '#f8bbd0',
          // defaultColor: '#f5f5f5',

  };
  var geochart = new google.visualization.GeoChart(
      document.getElementById('visualization'));
  geochart.draw(data, opts);
};

</script>