{% extends "base.html" %}
{% load mathfilters %}
{% load keyvalue %}

{% block content %}
<style type="text/css">
table
{
	/*width: auto !important;*/
}
th
{
	width:1.5rem !important;
}
td
{
	padding-right: 30px !important;
	width: 30px;
}
td:hover
{
  background-size:  100% 100%;
  transform:scale(1.4545,1.34);
  transform-origin:center;
}
</style>
<!-- <div class="container"> -->
	<!-- <h3>{{ state }}</h3> -->
	<div class="d-flex flex-column flex-sm-column flex-md-row mb-5" style="justify-content: space-evenly;">
		{% include "home/chart.html" %}
	</div>
<!-- </div> -->
<div class="container">
<div class="row justify-content-center">
	<div class="col-10 col-sm-10 col-md-8">
		<div class="table-responsive">
			<table id="example" class="table table-sm table-striped table-hover" style="width:100%">
			        <thead class=""><!-- thead-dark -->
			            <tr>
			                <th>District Name</th>
			                <th>Confirmed</th>
			                <th>Active</th>
			                <th>Recovered</th>
			                <th>Deceased</th>
			                <th>Tested</th>
			            </tr>
			        </thead>
			        <tbody>
			        	{% for district, total in both.items %}
			        	<tr>
			        		<th>{{ district }}</th>
			        		<td class="Count" align="right" style="padding-right: 30px !important;">
			        			{{ total|get_item:"confirmed" }}
			        		</td>
			        		<td class="Count" align="right" style="padding-right: 30px !important;">
			        			{{ total|get_active }}
			        		</td>
			        		<td class="Count" align="right" style="padding-right: 30px !important;">
			        			{{ total|get_item:"recovered" }}
			        		</td>
			        		<td class="Count" align="right" style="padding-right: 30px !important;">
			        			{{ total|get_item:"deceased" }}
			        		</td>
			        		<td class="Count" align="right" style="padding-right: 30px !important;">
			        			{{ total|get_item:"tested" }}
			        		</td>
			        	</tr>
			        	{% endfor %}
			        </tbody>
			</table>
		</div>
	</div>
</div>
</div>
{% endblock content %}

{% block script %}
	<script type="text/javascript">
		$(document).ready(function() {
		    $('#example').DataTable({
		    	"paging":   false,
		    	"info":     false,
		    	"order": [[ 1, "desc" ]],
		    });
		} );
	</script>

	<script type="text/javascript">
		$('.Count').each(function () {
		    $(this).prop('Counter',0).animate({
		        Counter: $(this).text()
		    }, {
		        duration: 3000,
		        easing: 'swing',
		        step: function (now) {
		            $(this).text(Math.ceil(now).toLocaleString('en-IN'));
		        }
		    });
		});
	</script>
{% endblock script %}
